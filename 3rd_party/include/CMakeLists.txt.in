cmake_minimum_required(VERSION 3.5)

cmake_policy(SET CMP0135 NEW)
cmake_policy(SET CMP0077 NEW)

project(3rd-party-${LIB_NAME} NONE)

include(ExternalProject)

ExternalProject_Add(${LIB_NAME}
  URL               "${LIB_URL}"
  SOURCE_DIR        "${LIB_SOURCE_DIR}"
  BINARY_DIR        "${LIB_BUILD_DIR}"
  INSTALL_DIR       "${LIB_INSTALL_DIR}"
  CMAKE_GENERATOR   "${CMAKE_GENERATOR}"
  CMAKE_ARGS        "-DCMAKE_INSTALL_PREFIX=${LIB_INSTALL_DIR};"
                    "-DCMAKE_PREFIX_PATH=${CMAKE_PREFIX_PATH};"
                    "-DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE};"
                    "-DCMAKE_CXX_STANDARD=${CMAKE_CXX_STANDARD};"
                    "-DCMAKE_CXX_COMPILER=${CMAKE_CXX_COMPILER};"
                    "-DCMAKE_CXX_FLAGS=${CMAKE_CXX_FLAGS};"
                    "-DCMAKE_C_STANDARD=${CMAKE_C_STANDARD};"
                    "-DCMAKE_C_COMPILER=${CMAKE_C_COMPILER};"
                    "-DCMAKE_C_FLAGS=${CMAKE_C_FLAGS};"
                    "-DCMAKE_MODULE_LINKER_FLAGS=${CMAKE_MODULE_LINKER_FLAGS};"
                    "${LIB_CMAKE_FLAGS}"
  TEST_COMMAND      ""
)
